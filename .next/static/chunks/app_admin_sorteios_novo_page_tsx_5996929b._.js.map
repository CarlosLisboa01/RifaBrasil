{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Vizantu.dev/RifaBrasil/app/admin/sorteios/novo/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { supabase } from '@/utils/supabase';\r\nimport Image from 'next/image';\r\n\r\n// Definição do esquema de validação\r\nconst raffleSchema = z.object({\r\n  title: z.string().min(3, 'Título deve ter no mínimo 3 caracteres'),\r\n  description: z.string().min(10, 'Descrição deve ter no mínimo 10 caracteres'),\r\n  min_number: z.string().min(1, 'Campo obrigatório'),\r\n  max_number: z.string().min(1, 'Campo obrigatório'),\r\n  unit_price: z.string().min(1, 'Valor unitário é obrigatório'),\r\n}).refine(\r\n  (data) => {\r\n    const min = parseInt(data.min_number);\r\n    const max = parseInt(data.max_number);\r\n    return !isNaN(min) && min >= 1;\r\n  },\r\n  {\r\n    message: \"Número mínimo deve ser um número maior ou igual a 1\",\r\n    path: [\"min_number\"],\r\n  }\r\n).refine(\r\n  (data) => {\r\n    const min = parseInt(data.min_number);\r\n    const max = parseInt(data.max_number);\r\n    return !isNaN(max) && max >= 1;\r\n  },\r\n  {\r\n    message: \"Número máximo deve ser um número maior ou igual a 1\",\r\n    path: [\"max_number\"],\r\n  }\r\n).refine(\r\n  (data) => {\r\n    const min = parseInt(data.min_number);\r\n    const max = parseInt(data.max_number);\r\n    return !isNaN(min) && !isNaN(max) && max > min;\r\n  },\r\n  {\r\n    message: \"O número máximo deve ser maior que o número mínimo\",\r\n    path: [\"max_number\"],\r\n  }\r\n).refine(\r\n  (data) => {\r\n    const price = parseFloat(data.unit_price.replace(',', '.'));\r\n    return !isNaN(price) && price > 0;\r\n  },\r\n  {\r\n    message: \"O valor unitário deve ser um número maior que zero\",\r\n    path: [\"unit_price\"],\r\n  }\r\n);\r\n\r\ntype FormValues = z.infer<typeof raffleSchema>;\r\n\r\nexport default function NovoSorteioPage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm<FormValues>({\r\n    resolver: zodResolver(raffleSchema),\r\n    defaultValues: {\r\n      title: '',\r\n      description: '',\r\n      min_number: '1',\r\n      max_number: '100',\r\n      unit_price: '10,00',\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkAdmin = async () => {\r\n      try {\r\n        const { data: sessionData } = await supabase.auth.getSession();\r\n        const currentUser = sessionData.session?.user || null;\r\n        \r\n        if (!currentUser) {\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        \r\n        // Verificar se o usuário é administrador\r\n        const { data: adminData, error: adminError } = await supabase\r\n          .from('admin_users')\r\n          .select('*')\r\n          .eq('user_id', currentUser.id);\r\n          \r\n        if (adminError) {\r\n          console.error(\"Erro ao verificar permissões:\", adminError);\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        \r\n        if (!adminData || adminData.length === 0) {\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        \r\n        setIsAdmin(true);\r\n      } catch (error: any) {\r\n        console.error('Erro:', error);\r\n        setError(error.message || 'Ocorreu um erro ao verificar suas permissões');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    checkAdmin();\r\n  }, [router]);\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0] || null;\r\n    if (!file) return;\r\n\r\n    // Verificar se é uma imagem\r\n    if (!file.type.match(/^image\\/(jpeg|jpg|png|gif)$/)) {\r\n      setError('Por favor, selecione uma imagem válida (JPEG, PNG ou GIF).');\r\n      return;\r\n    }\r\n\r\n    // Verificar tamanho (máximo 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setError('A imagem não pode ter mais de 5MB.');\r\n      return;\r\n    }\r\n\r\n    setImageFile(file);\r\n    const previewUrl = URL.createObjectURL(file);\r\n    setImagePreview(previewUrl);\r\n  };\r\n\r\n  const clearImageSelection = () => {\r\n    setImageFile(null);\r\n    if (imagePreview) {\r\n      URL.revokeObjectURL(imagePreview);\r\n    }\r\n    setImagePreview(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (formData: FormValues) => {\r\n    try {\r\n      setSubmitting(true);\r\n      setError(null);\r\n      setSuccess(null);\r\n      \r\n      // Converter strings para números\r\n      const min_number = parseInt(formData.min_number);\r\n      const max_number = parseInt(formData.max_number);\r\n      const unit_price = parseFloat(formData.unit_price.replace(',', '.'));\r\n      \r\n      let image_url = null;\r\n      \r\n      // Upload da imagem, se existir\r\n      if (imageFile) {\r\n        try {\r\n          // Gerar nome único para o arquivo\r\n          const fileName = Date.now() + '_' + imageFile.name.replace(/\\s+/g, '_');\r\n          \r\n          // Fazer o upload diretamente sem verificações adicionais\r\n          const { data, error: uploadError } = await supabase.storage\r\n            .from('raffle-images')\r\n            .upload(fileName, imageFile, {\r\n              cacheControl: '3600',\r\n              upsert: false\r\n            });\r\n            \r\n          if (uploadError) {\r\n            throw new Error(`Erro ao fazer upload da imagem: ${uploadError.message}`);\r\n          }\r\n          \r\n          // Obter URL pública\r\n          const { data: { publicUrl } } = supabase.storage\r\n            .from('raffle-images')\r\n            .getPublicUrl(fileName);\r\n          \r\n          image_url = publicUrl;\r\n        } catch (error: any) {\r\n          console.error('Erro de upload:', error);\r\n          setError(`Erro no upload da imagem: ${error.message}. Prosseguindo sem imagem.`);\r\n          // Continuar sem a imagem\r\n        }\r\n      }\r\n      \r\n      // Criar a rifa no banco de dados\r\n      const { data: newRaffle, error } = await supabase\r\n        .from('raffles')\r\n        .insert({\r\n          title: formData.title,\r\n          description: formData.description,\r\n          min_number,\r\n          max_number,\r\n          unit_price,\r\n          image_url,\r\n          status: 'open',\r\n        })\r\n        .select()\r\n        .single();\r\n        \r\n      if (error) {\r\n        // Se falhar por causa de um campo ausente, tente novamente sem ele\r\n        if (error.message.includes('unit_price')) {\r\n          // Tentar novamente sem unit_price\r\n          const { data: fallbackRaffle, error: fallbackError } = await supabase\r\n            .from('raffles')\r\n            .insert({\r\n              title: formData.title,\r\n              description: formData.description,\r\n              min_number,\r\n              max_number,\r\n              status: 'open',\r\n              image_url,\r\n            })\r\n            .select()\r\n            .single();\r\n            \r\n          if (fallbackError) throw fallbackError;\r\n          \r\n          setSuccess('Rifa criada com sucesso (sem valor unitário - adicione a coluna unit_price na tabela)');\r\n          \r\n          // Redirecionar para a página de detalhes\r\n          setTimeout(() => {\r\n            router.push('/admin/sorteios/' + fallbackRaffle.id);\r\n          }, 2000);\r\n          return;\r\n        }\r\n        \r\n        throw error;\r\n      }\r\n      \r\n      setSuccess('Rifa criada com sucesso!');\r\n      \r\n      // Redirecionar para a página de detalhes do sorteio\r\n      setTimeout(() => {\r\n        router.push('/admin/sorteios/' + newRaffle.id);\r\n      }, 2000);\r\n      \r\n    } catch (error: any) {\r\n      console.error('Erro ao criar rifa:', error);\r\n      setError(error.message || 'Erro ao criar a rifa');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[80vh]\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md border-t-4 border-green-600\">\r\n        <h1 className=\"text-2xl font-bold text-center mb-6 text-green-700\">Acesso Restrito</h1>\r\n        <p className=\"text-gray-600 mb-6 text-center\">\r\n          Você não tem permissão para acessar esta área.\r\n        </p>\r\n        <div className=\"flex justify-center\">\r\n          <Link\r\n            href=\"/\"\r\n            className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\r\n          >\r\n            Voltar para o início\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto mt-8 mb-12 px-4\">\r\n      <div className=\"flex items-center mb-6\">\r\n        <Link href=\"/admin\" className=\"text-green-600 hover:text-green-800 mr-2\">\r\n          &larr; Voltar ao Painel\r\n        </Link>\r\n        <h1 className=\"text-2xl font-bold text-green-600 ml-2\">Criar Nova Rifa</h1>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"mb-6 p-4 bg-red-100 text-red-700 rounded-md\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {success && (\r\n        <div className=\"mb-6 p-4 bg-green-100 text-green-700 rounded-md\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden border-t-4 border-green-600\">\r\n        <div className=\"p-6\">\r\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n            <div>\r\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Título da Rifa *\r\n              </label>\r\n              <input\r\n                id=\"title\"\r\n                type=\"text\"\r\n                {...register('title')}\r\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500\"\r\n                placeholder=\"Ex: Rifa de Natal 2023\"\r\n              />\r\n              {errors.title && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.title.message}</p>\r\n              )}\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Descrição da Rifa *\r\n              </label>\r\n              <textarea\r\n                id=\"description\"\r\n                {...register('description')}\r\n                rows={4}\r\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500\"\r\n                placeholder=\"Descreva os detalhes da rifa, prêmios, regras, etc.\"\r\n              />\r\n              {errors.description && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.description.message}</p>\r\n              )}\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Imagem da Rifa\r\n              </label>\r\n              <div className=\"mt-1 flex items-center space-x-4\">\r\n                <div\r\n                  className={`flex justify-center items-center w-32 h-32 border-2 border-dashed rounded-md \r\n                    ${imagePreview ? 'border-green-300' : 'border-gray-300 hover:border-green-400'} \r\n                    ${!imagePreview ? 'cursor-pointer' : ''}`}\r\n                  onClick={() => !imagePreview && fileInputRef.current?.click()}\r\n                >\r\n                  {imagePreview ? (\r\n                    <div className=\"relative w-full h-full\">\r\n                      <Image \r\n                        src={imagePreview} \r\n                        alt=\"Preview\" \r\n                        fill \r\n                        className=\"object-cover rounded-md\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-1 text-center\">\r\n                      <svg\r\n                        className=\"mx-auto h-12 w-12 text-gray-400\"\r\n                        stroke=\"currentColor\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 48 48\"\r\n                        aria-hidden=\"true\"\r\n                      >\r\n                        <path\r\n                          d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\r\n                          strokeWidth={2}\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                        />\r\n                      </svg>\r\n                      <p className=\"text-xs text-gray-500\">Clique para adicionar</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <input\r\n                  type=\"file\"\r\n                  className=\"hidden\"\r\n                  accept=\"image/jpeg, image/png, image/gif\"\r\n                  ref={fileInputRef}\r\n                  onChange={handleImageChange}\r\n                />\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    className=\"inline-flex items-center px-3 py-2 text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\r\n                  >\r\n                    {imagePreview ? 'Trocar Imagem' : 'Selecionar Imagem'}\r\n                  </button>\r\n                  \r\n                  {imagePreview && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={clearImageSelection}\r\n                      className=\"inline-flex items-center px-3 py-2 text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\r\n                    >\r\n                      Remover\r\n                    </button>\r\n                  )}\r\n                  \r\n                  <p className=\"text-xs text-gray-500\">\r\n                    JPG, PNG ou GIF. Máximo 5MB.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label htmlFor=\"min_number\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Número Mínimo *\r\n                </label>\r\n                <input\r\n                  id=\"min_number\"\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  pattern=\"[0-9]*\"\r\n                  {...register('min_number')}\r\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500\"\r\n                />\r\n                {errors.min_number && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.min_number.message}</p>\r\n                )}\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"max_number\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Número Máximo *\r\n                </label>\r\n                <input\r\n                  id=\"max_number\"\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  pattern=\"[0-9]*\"\r\n                  {...register('max_number')}\r\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500\"\r\n                />\r\n                {errors.max_number && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.max_number.message}</p>\r\n                )}\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"unit_price\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Valor Unitário (R$) *\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                    <span className=\"text-gray-500 sm:text-sm\">R$</span>\r\n                  </div>\r\n                  <input\r\n                    id=\"unit_price\"\r\n                    type=\"text\"\r\n                    inputMode=\"decimal\"\r\n                    placeholder=\"0,00\"\r\n                    {...register('unit_price')}\r\n                    className=\"block w-full pl-11 pr-3 py-2 rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500\"\r\n                  />\r\n                </div>\r\n                {errors.unit_price && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.unit_price.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"border-t pt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={submitting}\r\n                className={`w-full py-3 px-4 rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${\r\n                  submitting ? 'opacity-70 cursor-not-allowed' : ''\r\n                }`}\r\n              >\r\n                {submitting ? 'Criando...' : 'Criar Rifa'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWA,oCAAoC;AACpC,MAAM,eAAe,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5B,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI;IAChC,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC9B,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC9B,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAChC,GAAG,MAAM,CACP,CAAC;IACC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,OAAO,CAAC,MAAM,QAAQ,OAAO;AAC/B,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAa;AACtB,GACA,MAAM,CACN,CAAC;IACC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,OAAO,CAAC,MAAM,QAAQ,OAAO;AAC/B,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAa;AACtB,GACA,MAAM,CACN,CAAC;IACC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,MAAM,MAAM,SAAS,KAAK,UAAU;IACpC,OAAO,CAAC,MAAM,QAAQ,CAAC,MAAM,QAAQ,MAAM;AAC7C,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAa;AACtB,GACA,MAAM,CACN,CAAC;IACC,MAAM,QAAQ,WAAW,KAAK,UAAU,CAAC,OAAO,CAAC,KAAK;IACtD,OAAO,CAAC,MAAM,UAAU,QAAQ;AAClC,GACA;IACE,SAAS;IACT,MAAM;QAAC;KAAa;AACtB;AAKa,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAChE,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAE9C,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAc;QAC5E,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YACb,OAAO;YACP,aAAa;YACb,YAAY;YACZ,YAAY;YACZ,YAAY;QACd;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,MAAM;wDAAa;oBACjB,IAAI;wBACF,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,UAAU;wBAC5D,MAAM,cAAc,YAAY,OAAO,EAAE,QAAQ;wBAEjD,IAAI,CAAC,aAAa;4BAChB,OAAO,IAAI,CAAC;4BACZ;wBACF;wBAEA,yCAAyC;wBACzC,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAC1D,IAAI,CAAC,eACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,YAAY,EAAE;wBAE/B,IAAI,YAAY;4BACd,QAAQ,KAAK,CAAC,iCAAiC;4BAC/C,OAAO,IAAI,CAAC;4BACZ;wBACF;wBAEA,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG;4BACxC,OAAO,IAAI,CAAC;4BACZ;wBACF;wBAEA,WAAW;oBACb,EAAE,OAAO,OAAY;wBACnB,QAAQ,KAAK,CAAC,SAAS;wBACvB,SAAS,MAAM,OAAO,IAAI;oBAC5B,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;oCAAG;QAAC;KAAO;IAEX,MAAM,oBAAoB,CAAC;QACzB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;QACpC,IAAI,CAAC,MAAM;QAEX,4BAA4B;QAC5B,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,gCAAgC;YACnD,SAAS;YACT;QACF;QAEA,iCAAiC;QACjC,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;YAC/B,SAAS;YACT;QACF;QAEA,aAAa;QACb,MAAM,aAAa,IAAI,eAAe,CAAC;QACvC,gBAAgB;IAClB;IAEA,MAAM,sBAAsB;QAC1B,aAAa;QACb,IAAI,cAAc;YAChB,IAAI,eAAe,CAAC;QACtB;QACA,gBAAgB;QAChB,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,cAAc;YACd,SAAS;YACT,WAAW;YAEX,iCAAiC;YACjC,MAAM,aAAa,SAAS,SAAS,UAAU;YAC/C,MAAM,aAAa,SAAS,SAAS,UAAU;YAC/C,MAAM,aAAa,WAAW,SAAS,UAAU,CAAC,OAAO,CAAC,KAAK;YAE/D,IAAI,YAAY;YAEhB,+BAA+B;YAC/B,IAAI,WAAW;gBACb,IAAI;oBACF,kCAAkC;oBAClC,MAAM,WAAW,KAAK,GAAG,KAAK,MAAM,UAAU,IAAI,CAAC,OAAO,CAAC,QAAQ;oBAEnE,yDAAyD;oBACzD,MAAM,EAAE,IAAI,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,OAAO,CACxD,IAAI,CAAC,iBACL,MAAM,CAAC,UAAU,WAAW;wBAC3B,cAAc;wBACd,QAAQ;oBACV;oBAEF,IAAI,aAAa;wBACf,MAAM,IAAI,MAAM,CAAC,gCAAgC,EAAE,YAAY,OAAO,EAAE;oBAC1E;oBAEA,oBAAoB;oBACpB,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,GAAG,oHAAA,CAAA,WAAQ,CAAC,OAAO,CAC7C,IAAI,CAAC,iBACL,YAAY,CAAC;oBAEhB,YAAY;gBACd,EAAE,OAAO,OAAY;oBACnB,QAAQ,KAAK,CAAC,mBAAmB;oBACjC,SAAS,CAAC,0BAA0B,EAAE,MAAM,OAAO,CAAC,0BAA0B,CAAC;gBAC/E,yBAAyB;gBAC3B;YACF;YAEA,iCAAiC;YACjC,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAC9C,IAAI,CAAC,WACL,MAAM,CAAC;gBACN,OAAO,SAAS,KAAK;gBACrB,aAAa,SAAS,WAAW;gBACjC;gBACA;gBACA;gBACA;gBACA,QAAQ;YACV,GACC,MAAM,GACN,MAAM;YAET,IAAI,OAAO;gBACT,mEAAmE;gBACnE,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,eAAe;oBACxC,kCAAkC;oBAClC,MAAM,EAAE,MAAM,cAAc,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAClE,IAAI,CAAC,WACL,MAAM,CAAC;wBACN,OAAO,SAAS,KAAK;wBACrB,aAAa,SAAS,WAAW;wBACjC;wBACA;wBACA,QAAQ;wBACR;oBACF,GACC,MAAM,GACN,MAAM;oBAET,IAAI,eAAe,MAAM;oBAEzB,WAAW;oBAEX,yCAAyC;oBACzC,WAAW;wBACT,OAAO,IAAI,CAAC,qBAAqB,eAAe,EAAE;oBACpD,GAAG;oBACH;gBACF;gBAEA,MAAM;YACR;YAEA,WAAW;YAEX,oDAAoD;YACpD,WAAW;gBACT,OAAO,IAAI,CAAC,qBAAqB,UAAU,EAAE;YAC/C,GAAG;QAEL,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,SAAS,MAAM,OAAO,IAAI;QAC5B,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAqD;;;;;;8BACnE,6LAAC;oBAAE,WAAU;8BAAiC;;;;;;8BAG9C,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAU;kCAA2C;;;;;;kCAGzE,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;;;;;;;YAGxD,uBACC,6LAAC;gBAAI,WAAU;0BACZ;;;;;;YAIJ,yBACC,6LAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAK,UAAU,aAAa;wBAAW,WAAU;;0CAChD,6LAAC;;kDACC,6LAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAA+C;;;;;;kDAGhF,6LAAC;wCACC,IAAG;wCACH,MAAK;wCACJ,GAAG,SAAS,QAAQ;wCACrB,WAAU;wCACV,aAAY;;;;;;oCAEb,OAAO,KAAK,kBACX,6LAAC;wCAAE,WAAU;kDAA6B,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;0CAIlE,6LAAC;;kDACC,6LAAC;wCAAM,SAAQ;wCAAc,WAAU;kDAA+C;;;;;;kDAGtF,6LAAC;wCACC,IAAG;wCACF,GAAG,SAAS,cAAc;wCAC3B,MAAM;wCACN,WAAU;wCACV,aAAY;;;;;;oCAEb,OAAO,WAAW,kBACjB,6LAAC;wCAAE,WAAU;kDAA6B,OAAO,WAAW,CAAC,OAAO;;;;;;;;;;;;0CAIxE,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,WAAW,CAAC;oBACV,EAAE,eAAe,qBAAqB,yCAAyC;oBAC/E,EAAE,CAAC,eAAe,mBAAmB,IAAI;gDAC3C,SAAS,IAAM,CAAC,gBAAgB,aAAa,OAAO,EAAE;0DAErD,6BACC,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;wDACJ,KAAK;wDACL,KAAI;wDACJ,IAAI;wDACJ,WAAU;;;;;;;;;;yEAId,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DACC,WAAU;4DACV,QAAO;4DACP,MAAK;4DACL,SAAQ;4DACR,eAAY;sEAEZ,cAAA,6LAAC;gEACC,GAAE;gEACF,aAAa;gEACb,eAAc;gEACd,gBAAe;;;;;;;;;;;sEAGnB,6LAAC;4DAAE,WAAU;sEAAwB;;;;;;;;;;;;;;;;;0DAK3C,6LAAC;gDACC,MAAK;gDACL,WAAU;gDACV,QAAO;gDACP,KAAK;gDACL,UAAU;;;;;;0DAGZ,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDACC,MAAK;wDACL,SAAS,IAAM,aAAa,OAAO,EAAE;wDACrC,WAAU;kEAET,eAAe,kBAAkB;;;;;;oDAGnC,8BACC,6LAAC;wDACC,MAAK;wDACL,SAAS;wDACT,WAAU;kEACX;;;;;;kEAKH,6LAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;0CAO3C,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAM,SAAQ;gDAAa,WAAU;0DAA+C;;;;;;0DAGrF,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,WAAU;gDACV,SAAQ;gDACP,GAAG,SAAS,aAAa;gDAC1B,WAAU;;;;;;4CAEX,OAAO,UAAU,kBAChB,6LAAC;gDAAE,WAAU;0DAA6B,OAAO,UAAU,CAAC,OAAO;;;;;;;;;;;;kDAIvE,6LAAC;;0DACC,6LAAC;gDAAM,SAAQ;gDAAa,WAAU;0DAA+C;;;;;;0DAGrF,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,WAAU;gDACV,SAAQ;gDACP,GAAG,SAAS,aAAa;gDAC1B,WAAU;;;;;;4CAEX,OAAO,UAAU,kBAChB,6LAAC;gDAAE,WAAU;0DAA6B,OAAO,UAAU,CAAC,OAAO;;;;;;;;;;;;kDAIvE,6LAAC;;0DACC,6LAAC;gDAAM,SAAQ;gDAAa,WAAU;0DAA+C;;;;;;0DAGrF,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;kEACb,cAAA,6LAAC;4DAAK,WAAU;sEAA2B;;;;;;;;;;;kEAE7C,6LAAC;wDACC,IAAG;wDACH,MAAK;wDACL,WAAU;wDACV,aAAY;wDACX,GAAG,SAAS,aAAa;wDAC1B,WAAU;;;;;;;;;;;;4CAGb,OAAO,UAAU,kBAChB,6LAAC;gDAAE,WAAU;0DAA6B,OAAO,UAAU,CAAC,OAAO;;;;;;;;;;;;;;;;;;0CAKzE,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAW,CAAC,0JAA0J,EACpK,aAAa,kCAAkC,IAC/C;8CAED,aAAa,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7C;GA/awB;;QACP,qIAAA,CAAA,YAAS;QAUkC,iKAAA,CAAA,UAAO;;;KAX3C","debugId":null}}]
}